<ng-template let-control="control" let-schema="schema" let-model="model" [fluentContextGuard]="contextGuard">
  <ng-container *fluentInject="InputGroup as inputGroup; optional: true">
    @if (inputGroup) {
      @if (!(schema.hidden | reactive: model : schema : control)) {
        <nz-date-picker
          #component
          fluentCol
          [fluentBinding]="{ component, schema, control, model }"
          [formControl]="control"
          [class]="schema.class"
          [ngStyle]="schema.style"
          [span]="schema.col | col: 'span'"
          [flex]="schema.col | col: 'flex'"
          [offset]="schema.col | col: 'offset'"
          [nzAllowClear]="schema.clearable"
          [nzFormat]="schema.format!"
          [nzId]="schema.id!"
          [nzInline]="schema.inline"
          [nzMode]="schema.mode"
          [nzPlaceHolder]="schema.placeholder | reactive: model : schema : control"
          [nzShowTime]="schema.time"
          [nzBackdrop]="schema.backdrop!"
          [nzPlacement]="schema.placement ?? 'bottomLeft'"
          [nzSuffixIcon]="schema.suffixIcon | template: 'calendar'"
          [nzAutoFocus]="schema.autofocus"
          [nzInputReadOnly]="schema.readonly | reactive: model : schema : control"
          [nzSize]="schema.size!"
          [nzBorderless]="schema.borderless"
          [nzShowToday]="schema.today ?? true"
          [nzShowNow]="schema.now ?? true" />
      }
    } @else {
      <nz-date-picker
        #component
        [fluentBinding]="{ component, schema, control, model }"
        [formControl]="control"
        [class]="schema.class"
        [ngStyle]="schema.style"
        [nzAllowClear]="schema.clearable"
        [nzFormat]="schema.format!"
        [nzId]="schema.id!"
        [nzInline]="schema.inline"
        [nzMode]="schema.mode"
        [nzPlaceHolder]="schema.placeholder | reactive: model : schema : control"
        [nzShowTime]="schema.time"
        [nzBackdrop]="schema.backdrop!"
        [nzPlacement]="schema.placement ?? 'bottomLeft'"
        [nzSuffixIcon]="schema.suffixIcon | template: 'calendar'"
        [nzAutoFocus]="schema.autofocus"
        [nzInputReadOnly]="schema.readonly | reactive: model : schema : control"
        [nzSize]="schema.size!"
        [nzBorderless]="schema.borderless"
        [nzShowToday]="schema.today ?? true"
        [nzShowNow]="schema.now ?? true" />
    }
  </ng-container>
</ng-template>
